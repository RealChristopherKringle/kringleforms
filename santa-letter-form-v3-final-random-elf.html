
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Santa Letter Form - FULL RESTORE v11</title>
  <script src="https://cdn.jsdelivr.net/npm/@emailjs/browser@3/dist/email.min.js"></script>
  <style>
    body { font-family: Arial, sans-serif; background-color: #fffbea; padding: 20px; }
    #santa-form, #confirmation, #tracker, #progress-container {
      max-width: 600px; margin: auto; padding: 25px;
      border-radius: 12px; transition: opacity 0.8s ease;
    }
    #santa-form { background: #ffffff; border: 2px solid #e2b8a1; }
    label { font-weight: bold; margin-top: 10px; display: block; }
    input, select, textarea {
      width: 100%; padding: 10px; margin: 6px 0 16px;
      border-radius: 6px; border: 1px solid #ccc; box-sizing: border-box;
    }
    button {
      width: 100%; background-color: #d84315; color: white;
      padding: 14px; border: none; border-radius: 8px;
      font-size: 16px; cursor: pointer;
    }
    #confirmation, #tracker, #progress-container {
      display: none; opacity: 0;
    }
    .show { display: block !important; opacity: 1 !important; }
    #confirmation { background: #fff3e0; border: 2px dashed #c62828; text-align: center; }
    #tracker { background: #f3faff; border: 2px solid #90caf9; }
    #tracking-steps li {
      opacity: 0.4; transition: opacity 0.4s;
      list-style: none; margin-bottom: 8px;
    }
    .snowflake {
      position: fixed; top: -10px;
      width: 20px; height: 20px; color: #ccefff; background: none; font-size: 20px;
      border-radius: 50%; opacity: 0.8;
      animation: fall linear infinite;
    }
    @keyframes fall { to { transform: translateY(100vh); } }
  </style>
</head>
<body>
  <form id="santa-form">
    <h2>🎅 Tell the Elves about yourself...</h2>
    <!-- Your Name -->
<label for="name">Your Name:</label>
<input type="text" id="name" name="name" required />

<!-- Gender Checkboxes on Single Row -->
<div style="display: flex; justify-content: center; gap: 40px; align-items: center; margin: 12px 0;">
  <label style="display: flex; align-items: center; gap: 6px;">
    <input type="checkbox" name="gender_boy" value="Boy">
    🎁 Boy
  </label>
  <label style="display: flex; align-items: center; gap: 6px;">
    <input type="checkbox" name="gender_girl" value="Girl">
    🎀 Girl
  </label>
</div>
      
    <label>Your Age:</label>
    <select name="age" required>
      <option value="" disabled selected>Select Age</option>
      <option value="1">1</option>
      <option value="2">2</option>
      <option value="3">3</option>
      <option value="4">4</option>
      <option value="5">5</option>
      <option value="6">6</option>
      <option value="7">7</option>
      <option value="8">8</option>
      <option value="9">9</option>
      <option value="10">10</option>
      <option value="11">11</option>
      <option value="12">12</option>
      <option value="13">13</option>
      <option value="14">14</option>
      <option value="15">15</option>
      <option value="16">16</option>
      <option value="17">17</option>
      <option value="18">18</option>
      <option value="19">19</option>
      <option value="20">20</option>
      <option value="21">21</option>
      <option value="22">22</option>
      <option value="999">Adult (23+) / Parent / Grandparent</option>
    </select>

    <label>Your Grade:</label>
    <select name="grade" required>
      <option value="">Select Grade</option>
      <option>Preschool</option><option>Kindergarten</option><option>1st Grade</option>
      <option>2nd Grade</option><option>3rd Grade</option><option>4th Grade</option>
      <option>5th Grade</option><option>6th Grade</option><option>7th Grade</option>
      <option>8th Grade</option><option>High School</option><option>College</option>
    </select>

    <label>Your Country:</label>
    <input type="text" name="country" required />

    <label>Your Language:</label>
    <select name="user_language" required>
      <option value="" disabled selected>Select a language</option>
      <option value="en">English</option>
      <option value="es">Español</option>
      <option value="fr">Français</option>
      <option value="de">Deutsch</option>
      <option value="pt">Português</option>
    </select>

    <label>Your #1 Wish This Year:</label>
    <textarea name="wish" required></textarea>
    <label>Your Email:</label>
    <input type="email" name="email" required />

    <label>Write Your Personal Letter to Santa here:</label>
    <textarea name="message" rows="8" placeholder="Dear Santa, this year I..."></textarea>

    <button type="submit">🎁 Send My Letter to Santa</button>
  </form>

  <div id="confirmation">
    <h3>🎄 Santa’s Magic Mailbox</h3>
    <p>Your message is being delivered to the North Pole! Security measures must be taken to keep the Elves safe!</p>
    <button id="reset-btn">✏️ Write Another Letter</button>
  </div>

  <div id="progress-container">
    <p style="text-align: center; font-style: italic; color: #1e88e5;">
      🔐 Encrypting your Christmas wish over multiple VPN's around the world...
    </p>
    <div style="background-color: #e0f2ff; border: 1px solid #90caf9; border-radius: 20px; overflow: hidden;">
      <div id="progress-bar" style="width: 0%; height: 18px; background-color: #42a5f5;"></div>
    </div>
  </div>

  <div id="tracker">
    <h3>📦 Tracking Your Letter</h3>
    <ul id="tracking-steps">
      <li>🔄 Clarifying decryption services for secure transport...</li>
      <li>🧤 Scanned by North Pole Internal RAID Servers for viruses...</li>
      <li>📝 Converting Java Script to DOS by Mrs. Claus...</li>
      <li id="elf-line">🧝‍♂️ Assigned to Elf #####...</li>
      <li>📬 Delivered email to Santa’s personal Apple IIe Computer 💾🖥🕹️!</li>
    </ul>
  </div>

  <audio id="sparkle-audio" preload="auto">
    <source src="chime_converted.mp3" type="audio/mpeg">
  </audio>
  <audio id="cheer-audio" preload="auto">
    <source src="cheer_converted.mp3" type="audio/mpeg">
  </audio>

  <script>
    const form = document.getElementById("santa-form");
    const confirmation = document.getElementById("confirmation");
    const tracker = document.getElementById("tracker");
    const progress = document.getElementById("progress-container");
    const sparkle = document.getElementById("sparkle-audio");
    const cheer = document.getElementById("cheer-audio");

    form.addEventListener("submit", function (e) {
      e.preventDefault();

      if (sparkle) {
        sparkle.currentTime = 0;
        sparkle.play().catch(() => {});
      }
      

      form.style.opacity = 0;
      const elfId = Math.floor(Math.random() * 1029) + 1;
      document.getElementById("elf-line").innerText = `🧝‍♂️ Assigned to Elf #${elfId}`;

      setTimeout(() => {
        form.style.display = "none";
        confirmation.classList.add("show");
        progress.classList.add("show");
        tracker.classList.add("show");

        let width = 0;
        const progressBar = document.getElementById("progress-bar");
        const animateProgress = setInterval(() => {
          if (width >= 100) clearInterval(animateProgress);
          else progressBar.style.width = (++width) + "%";
        }, 120);

        const steps = document.querySelectorAll("#tracking-steps li");
        const delays = [1000, 3000, 5000, 8000, 11000];
        steps.forEach((step, i) => {
          setTimeout(() => { step.style.opacity = 1; }, delays[i]);
        });

        for (let i = 0; i < 30; i++) {
          let snow = document.createElement("div");
          snow.className = "snowflake";
          snow.textContent = "❄️";
          snow.style.left = Math.random() * 100 + "vw";
          snow.style.animationDuration = (3 + Math.random() * 5) + "s";
          document.body.appendChild(snow);
        }
      }, 600);
    });

    document.getElementById("reset-btn").addEventListener("click", function () {
      confirmation.classList.remove("show");
      tracker.classList.remove("show");
      progress.classList.remove("show");
      form.reset();
      form.style.display = "block";
      if (cheer) { cheer.currentTime = 0; cheer.play().catch(() => {}); }
      setTimeout(() => { form.style.opacity = 1; }, 100);
    });
  </script>
</body>
</html>
